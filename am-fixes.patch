diff -Naurp libxdiff-0.23/configure.in libxdiff-0.23.oden/configure.in
--- libxdiff-0.23/configure.in	2008-11-12 22:29:12.000000000 +0100
+++ libxdiff-0.23.oden/configure.in	2011-08-20 10:39:09.000000000 +0200
@@ -1,12 +1,11 @@
 dnl Process this file with autoconf to produce a configure script.
-AC_INIT(libxdiff, 0.23)
+AC_INIT([libxdiff], 0.23)
 AM_INIT_AUTOMAKE(libxdiff, 0.23)
-AM_CONFIG_HEADER(config.h)
+AC_CONFIG_HEADERS([config.h])
 
 dnl Checks for programs.
 AC_PROG_MAKE_SET
 AC_PROG_CC
-AC_PROG_RANLIB
 AC_PROG_INSTALL
 AC_PROG_LIBTOOL
 
@@ -15,7 +14,7 @@ CFLAGS="${CFLAGS=}"
 dnl Checks for libraries.
 
 dnl Checks for header files.
-AC_STDC_HEADERS
+AC_HEADER_STDC([])
 AC_CHECK_HEADERS(stdio.h limits.h)
 
 dnl Checks for typedefs, structures, and compiler characteristics.
@@ -28,5 +27,12 @@ dnl Checks for library functions.
 AC_CHECK_FUNCS(memset memcmp memchr memcpy strlen malloc free realloc)
 
 
-AC_OUTPUT(Makefile xdiff/Makefile test/Makefile tools/Makefile man/Makefile)
+AC_CONFIG_FILES([
+	Makefile
+	xdiff/Makefile
+	test/Makefile
+	tools/Makefile
+	man/Makefile
+])
+AC_OUTPUT
 
diff -Naurp libxdiff-0.23/test/Makefile.am libxdiff-0.23.oden/test/Makefile.am
--- libxdiff-0.23/test/Makefile.am	2008-11-12 22:29:12.000000000 +0100
+++ libxdiff-0.23.oden/test/Makefile.am	2011-08-20 10:36:40.000000000 +0200
@@ -1,10 +1,9 @@
 
-INCLUDES = -I../xdiff
+INCLUDES = -I$(top_srcdir)/xdiff
 
 noinst_PROGRAMS = xdiff_test xregression
 xdiff_test_SOURCES = xdiff_test.c xtestutils.c
-xdiff_test_LDADD = ../xdiff/.libs/libxdiff.a
+xdiff_test_LDADD = $(top_builddir)/xdiff/libxdiff.la
 
 xregression_SOURCES = xregression.c xtestutils.c
-xregression_LDADD = ../xdiff/.libs/libxdiff.a
-
+xregression_LDADD = $(top_builddir)/xdiff/libxdiff.la
